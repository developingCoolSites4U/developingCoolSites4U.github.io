---
import { CONTACT } from '../lib/constants';

interface Props {
  title?: string;
  showPhone?: boolean;
}

const {
  title = 'Pronto a Trasformare il Tuo Sorriso?',
  showPhone = true,
} = Astro.props;

const base = import.meta.env.BASE_URL ?? '/';
const basePath = base.endsWith('/') ? base.slice(0, -1) : base;
---

<section class="bg-terracotta fade-in">
  <div class="container-brand py-16 md:py-20 text-center text-white">
    <h2 class="font-serif text-3xl md:text-4xl font-bold mb-6">{title}</h2>

    <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
      <a
        href={`${basePath}/contatti/`}
        class="inline-flex items-center justify-center gap-2 px-8 py-4 bg-white text-terracotta font-semibold rounded-brand transition-all duration-200 hover:shadow-lg hover:scale-[1.02]"
      >
        Prenota Ora
      </a>

      {showPhone && (
        <a
          href={`tel:${CONTACT.phoneRaw}`}
          class="inline-flex items-center justify-center gap-2 px-8 py-4 border-2 border-white text-white font-semibold rounded-brand transition-all duration-200 hover:bg-white hover:text-terracotta"
        >
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
          </svg>
          {CONTACT.phone}
        </a>
      )}
    </div>
  </div>
</section>
