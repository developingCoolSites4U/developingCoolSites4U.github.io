---
import type { Service } from '../lib/constants';

interface Props {
  service: Service;
  reversed?: boolean;
}

const { service, reversed = false } = Astro.props;
const base = import.meta.env.BASE_URL ?? '/';
const basePath = base.endsWith('/') ? base.slice(0, -1) : base;
---

<div class={`grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center ${reversed ? 'lg:direction-rtl' : ''}`}>
  <!-- Immagine -->
  <div class={`rounded-2xl overflow-hidden shadow-md ${reversed ? 'lg:order-2' : ''}`}>
    <img
      src={service.image}
      alt={service.title}
      class="w-full aspect-[4/3] object-cover"
      loading="lazy"
    />
  </div>

  <!-- Contenuto -->
  <div class={reversed ? 'lg:order-1' : ''}>
    <h3 class="font-serif text-2xl md:text-3xl font-bold text-charcoal mb-4">
      {service.title}
    </h3>
    <p class="text-charcoal-light leading-relaxed mb-6">
      {service.longDescription}
    </p>

    <ul class="space-y-2 mb-8">
      {service.benefits.map((benefit) => (
        <li class="flex items-start gap-3">
          <svg class="flex-shrink-0 mt-0.5" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#8FA68A" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M20 6 9 17l-5-5"/>
          </svg>
          <span class="text-charcoal/80 text-sm">{benefit}</span>
        </li>
      ))}
    </ul>

    <a href={`${basePath}/contatti/`} class="btn-primary">
      Prenota Questo Servizio
    </a>
  </div>
</div>
